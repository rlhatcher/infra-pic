diagram:
  name: "Web Application"

  services:
    lb:
      type: network.ELB
      label: "Load Balancer"
    web1:
      type: compute.EC2
      label: "Web Server 1"
    web2:
      type: compute.EC2
      label: "Web Server 2"
    db:
      type: database.RDS
      label: "User DB"
    cache:
      type: database.ElastiCache
      label: "Session Cache"

  groups:
    - name: "AWS Cloud"
      children:
        - name: "VPC"
          children:
            - name: "Public Subnet"
              services: [lb, web1, web2]
            - name: "Private Subnet"
              services: [db, cache]

  connections:
    - from: lb
      to: [web1, web2]
    - from: web1
      to: [db, cache]
    - from: web2
      to: [db, cache]
